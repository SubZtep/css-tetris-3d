* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
}

.giphy-embed {
  /* */
  width: 100%;
  height: 100%;
}


.crosshair {
  background:
    linear-gradient(#003,#003),
    linear-gradient(#003,#003),
    #000;
  background-position:center;
  background-size: 100% 1px,1px 100%;
  background-repeat:no-repeat;
}

.container {
  width: 100vw;
  height: 100vh;
  display: flex;
  overflow: hidden;
  align-items: center;
  justify-content: center;
  background-color: #000;
  perspective: var(--perspective);
  transition: perspective-origin 200ms ease-out;
  perspective-origin: var(--perspectiveX) var(--perspectiveY);
}

.front {
  transform: translateZ(var(--edge));
}
.right {
  right: 0;
  transform-origin: right;
  transform: rotateY(90deg);
}
.left {
  left: 0;
  transform-origin: left;
  transform: rotateY(-90deg);
}
.top {
  top: 0;
  transform-origin: top;
  transform: rotateX(90deg);
}
.bottom {
  bottom: 0;
  transform-origin: bottom;
  transform: rotateX(-90deg);
}

.level {
  transform-style: preserve-3d;
  position: absolute;

  width: calc(var(--cols) * var(--edge));
  height: calc(var(--rows) * var(--edge));
  --edge--px: calc(var(--edge) - 4px);

  .side {
    position: absolute;
    border: 1px solid #a00;

    background: url("/src/Red GIF-source.gif");

    /*
    background-image:
      repeating-linear-gradient(to right, transparent, transparent var(--edge--px), #600 var(--edge)),
      repeating-linear-gradient(to bottom, transparent, transparent var(--edge--px), #600 var(--edge));
    */

    /* background-image: line */

    &.back {
      width: 100%;
      height: 100%;
      opacity: 0.65;
      background: url("src/eye.gif");
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
    }
    &.top {
      background: url("https://i1.wp.com/css-tricks.com/wp-content/uploads/2018/05/sweep_rip.gif?ssl=1");
      background-size: contain;
      filter: hue-rotate(90deg);
      animation: pulse 5s infinite;
    }
    &.top, &.bottom {
      width: calc(var(--cols) * var(--edge));
      height: calc(var(--floors) * var(--edge));
    }
    &.left, &.right {
      width: calc(var(--floors) * var(--edge));
      height: calc(var(--rows) * var(--edge));
    }
  }
}

@keyframes pulse {
  0% {
    /* background-color: #001F3F; */
    filter: hue-rotate(0deg);
  }
  100% {
    filter: hue-rotate(360deg)
    /* background-color: #FF4136; */
  }
}

.cube {
  transform-style: preserve-3d;
  transition: 300ms ease-out;
  width: 100%;
  height: 100%;
  position: absolute;

  > div {
    width: inherit;
    height: inherit;
    position: absolute;
    /* background-color: #f008; */
    /* background: url(kett.gif); */



    /* background: url("Red GIF-source.gif"); */
    /* border: 1px solid #000; */
    border-radius: 8px;
    /* border-radius: var(--radius); */
    backface-visibility: hidden;
    transition: border-radius 200ms ease-out;
    opacity: 0.3;
  }

  &.a {
    grid-area: a;
    background-image: url(src/eq1.gif);
  }
  &.b {
    grid-area: b;
    background-image: url(src/oscillator2.gif);
  }
  &.c {
    grid-area: c;
    background-image: url(src/kacsak2.gif);
  }
  &.d {
    grid-area: d;
    background-image: url("src/an'K4o4.gif");
  }
}

.block {
  --translateX: calc(var(--posX) * var(--edge));
  --translateY: calc(var(--posY) * var(--edge));
  --translateZ: calc(var(--currentFloor) * var(--edge));
  --rotateX: calc(var(--rotX) * 1deg);
  --rotateZ: calc(var(--rotZ) * 1deg);

  width: calc(var(--edge) * 4);
  height: calc(var(--edge) * 2);

  transform-style: preserve-3d;
  transform: translate3d(var(--translateX), var(--translateY), var(--translateZ)) rotateX(var(--rotateX)) rotateZ(var(--rotateZ));
  transition: 300ms ease-out;

  transform-origin: 0 0 var(--edge);

  display: grid;
  gap: 8px;

  &.orangeRick {
    grid-template-areas:
      ". . a ."
      "b c d .";
    .a .bottom, .b .right, .c .left, .c .right, .d .top, .d .left {
      display: none;
    }
  }
  &.hero {
    grid-template-areas:
      "a b c d"
      ". . . .";
    .a .right, .b .left, .b .right, .c .left, .c .right, .d .left {
      display: none;
    }
  }
  &.blueRick {
    grid-template-areas:
      "a . . ."
      "b c d .";
    .a .bottom, .b .top, .b .right, .c .left, .c .right, .d .left {
      display: none;
    }
  }
  &.teeWee {
    grid-template-areas:
      ". a . ."
      "b c d .";
    .a .bottom, .b .right, .c .top, .c .left, .c .right, .d .left {
      display: none;
    }
  }
  &.clevelandZ {
    grid-template-areas:
      "a b . ."
      ". c d .";
    .a .right, .b .bottom, .b .left, .c .top, .c .right, .d .left {
      display: none;
    }
  }
  &.smashboy {
    grid-template-areas:
      "a b . ."
      "c d . .";
    .a .right, .a .bottom, .b .left, .b .bottom, .c .top, .c .right, .d .top, .d .left {
      display: none;
    }
  }
  &.rhodeIslandZ {
    grid-template-areas:
      ". a b ."
      "c d . .";
    .a .right, .a .bottom, .b .left, .c .right, .d .top, .d .left {
      display: none;
    }
  }
}

.pool {
  display: none;
}

.mason {
  position: absolute;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;

  .mc.floor0 > div { background-color: #111a; }
  .mc.floor1 > div { background-color: #222a; }
  .mc.floor2 > div { background-color: #333a; }
  .mc.floor3 > div { background-color: #444a; }
  .mc.floor4 > div { background-color: #555a; }
  .mc.floor5 > div { background-color: #666a; }
  .mc.floor6 > div { background-color: #777a; }
  .mc.floor7 > div { background-color: #888a; }
  .mc.floor8 > div { background-color: #999a; }
  .mc.floor9 > div { background-color: #aaaa; }

  .mc {
    width: var(--edge);
    height: var(--edge);
    > div {
      border-color: #060606;
      background-color: #555a;
      border-radius: 0;
    }
  }
}
